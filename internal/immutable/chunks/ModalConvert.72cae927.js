import{S as be,i as Ie,s as ke,k as h,y as P,a as D,l as g,m as w,z as A,c as C,h as c,n as $,b as L,A as B,G as i,g as O,J as Ee,P as de,d as j,B as z,D as te,N as fe,E as ue,q as G,r as H,u as Q,ah as ce,H as Ve,ai as we}from"./index.1aa50b20.js";import{L as ve,j as me,g as pe,e as $e}from"./api-localstorage.1037570d.js";import{c as De}from"./light-cones.717b3371.js";import{p as _e}from"./ButtonIcon.de0b31e0.js";import{I as he}from"./WarpResult.3483ab70.js";import{M as ge,a as Ce,R as ye}from"./2.7ae1556a.js";function Me(a){let e;return{c(){e=G(a[1])},l(t){e=H(t,a[1])},m(t,r){L(t,e,r)},p(t,r){r&2&&Q(e,t[1])},d(t){t&&c(e)}}}function Je(a){let e;return{c(){e=G(a[2])},l(t){e=H(t,a[2])},m(t,r){L(t,e,r)},p(t,r){r&4&&Q(e,t[2])},d(t){t&&c(e)}}}function Ne(a){let e,t,r=a[3]("shop.oneiricConvert")+"",v,m,n,f,p,s,o,b,d,_,N,R,y,W,k,M,F=a[3]("shop.amount")+"",T,X,Y,I,U,Z,S,E,J,x,se;return s=new he({props:{type:"oneiric"}}),y=new he({props:{type:"stellarJade"}}),E=new ye({props:{max:a[1]||1,min:a[1]<2?0:1,value:a[1]<1?1:a[0],disabled:a[1]<1,controller:!0}}),{c(){e=h("div"),t=h("div"),v=G(r),m=D(),n=h("div"),f=h("div"),p=h("div"),P(s.$$.fragment),o=D(),b=h("div"),d=h("i"),_=D(),N=h("div"),R=h("div"),P(y.$$.fragment),W=D(),k=h("div"),M=h("span"),T=G(F),X=G(":"),Y=D(),I=h("input"),Z=D(),S=h("div"),P(E.$$.fragment),this.h()},l(l){e=g(l,"DIV",{class:!0});var u=w(e);t=g(u,"DIV",{class:!0});var V=w(t);v=H(V,r),V.forEach(c),m=C(u),n=g(u,"DIV",{class:!0});var q=w(n);f=g(q,"DIV",{class:!0});var ae=w(f);p=g(ae,"DIV",{class:!0});var ne=w(p);A(s.$$.fragment,ne),ne.forEach(c),ae.forEach(c),o=C(q),b=g(q,"DIV",{class:!0});var le=w(b);d=g(le,"I",{class:!0}),w(d).forEach(c),le.forEach(c),_=C(q),N=g(q,"DIV",{class:!0});var re=w(N);R=g(re,"DIV",{class:!0});var oe=w(R);A(y.$$.fragment,oe),oe.forEach(c),re.forEach(c),q.forEach(c),W=C(u),k=g(u,"DIV",{class:!0});var K=w(k);M=g(K,"SPAN",{class:!0});var ee=w(M);T=H(ee,F),X=H(ee,":"),ee.forEach(c),Y=C(K),I=g(K,"INPUT",{type:!0,class:!0}),K.forEach(c),Z=C(u),S=g(u,"DIV",{class:!0});var ie=w(S);A(E.$$.fragment,ie),ie.forEach(c),u.forEach(c),this.h()},h(){$(t,"class","caption"),$(p,"class","icon svelte-hw5kv6"),$(f,"class","oneiric item svelte-hw5kv6"),$(d,"class","hsr-arrow-right"),$(b,"class","divider svelte-hw5kv6"),$(R,"class","icon svelte-hw5kv6"),$(N,"class","stellarJade item svelte-hw5kv6"),$(n,"class","row svelte-hw5kv6"),$(M,"class","svelte-hw5kv6"),$(I,"type","number"),I.disabled=U=a[1]<1,$(I,"class","svelte-hw5kv6"),$(k,"class","amount svelte-hw5kv6"),$(S,"class","range svelte-hw5kv6"),$(e,"class","modal-content svelte-hw5kv6")},m(l,u){L(l,e,u),i(e,t),i(t,v),i(e,m),i(e,n),i(n,f),i(f,p),B(s,p,null),i(n,o),i(n,b),i(b,d),i(n,_),i(n,N),i(N,R),B(y,R,null),i(e,W),i(e,k),i(k,M),i(M,T),i(M,X),i(k,Y),i(k,I),ce(I,a[0]),i(e,Z),i(e,S),B(E,S,null),J=!0,x||(se=Ve(I,"input",a[6]),x=!0)},p(l,u){(!J||u&8)&&r!==(r=l[3]("shop.oneiricConvert")+"")&&Q(v,r),(!J||u&8)&&F!==(F=l[3]("shop.amount")+"")&&Q(T,F),(!J||u&2&&U!==(U=l[1]<1))&&(I.disabled=U),u&1&&we(I.value)!==l[0]&&ce(I,l[0]);const V={};u&2&&(V.max=l[1]||1),u&2&&(V.min=l[1]<2?0:1),u&3&&(V.value=l[1]<1?1:l[0]),u&2&&(V.disabled=l[1]<1),E.$set(V)},i(l){J||(O(s.$$.fragment,l),O(y.$$.fragment,l),O(E.$$.fragment,l),J=!0)},o(l){j(s.$$.fragment,l),j(y.$$.fragment,l),j(E.$$.fragment,l),J=!1},d(l){l&&c(e),z(s),z(y),z(E),x=!1,se()}}}function Re(a){let e,t,r,v,m,n,f,p;return t=new ge({props:{type:"oneiric",$$slots:{default:[Me]},$$scope:{ctx:a}}}),v=new ge({props:{type:"stellarJade",$$slots:{default:[Je]},$$scope:{ctx:a}}}),f=new Ce({props:{title:a[3]("shop.stellarReedem"),disabled:isNaN(a[0])||a[0]<1,$$slots:{default:[Ne]},$$scope:{ctx:a}}}),f.$on("cancel",a[4]),f.$on("confirm",a[5]),{c(){e=h("div"),P(t.$$.fragment),r=D(),P(v.$$.fragment),n=D(),P(f.$$.fragment),this.h()},l(s){e=g(s,"DIV",{class:!0});var o=w(e);A(t.$$.fragment,o),r=C(o),A(v.$$.fragment,o),o.forEach(c),n=C(s),A(f.$$.fragment,s),this.h()},h(){$(e,"class","top svelte-hw5kv6")},m(s,o){L(s,e,o),B(t,e,null),i(e,r),B(v,e,null),L(s,n,o),B(f,s,o),p=!0},p(s,[o]){const b={};o&514&&(b.$$scope={dirty:o,ctx:s}),t.$set(b);const d={};o&516&&(d.$$scope={dirty:o,ctx:s}),v.$set(d);const _={};o&8&&(_.title=s[3]("shop.stellarReedem")),o&1&&(_.disabled=isNaN(s[0])||s[0]<1),o&523&&(_.$$scope={dirty:o,ctx:s}),f.$set(_)},i(s){p||(O(t.$$.fragment,s),O(v.$$.fragment,s),Ee(()=>{p&&(m||(m=de(e,ve,{y:-10,duration:250},!0)),m.run(1))}),O(f.$$.fragment,s),p=!0)},o(s){j(t.$$.fragment,s),j(v.$$.fragment,s),m||(m=de(e,ve,{y:-10,duration:250},!1)),m.run(0),j(f.$$.fragment,s),p=!1},d(s){s&&c(e),z(t),z(v),s&&m&&m.end(),s&&c(n),z(f,s)}}}function Se(a,e,t){let r,v,m;te(a,me,d=>t(1,r=d)),te(a,pe,d=>t(2,v=d)),te(a,De,d=>t(3,m=d));let n=1;fe("setValue",d=>t(0,n=d));const f=ue("openObtained"),p=ue("closeConvertModal"),s=()=>{p(),_e("modal-close")};fe("closeModal",s);const o=()=>{pe.update(d=>{const _=d+n;return $e.set("stellarJade",_),_}),me.update(d=>{const _=d-n;return $e.set("oneiric",_),_}),_e(),p(),f({qty:n})};function b(){n=we(this.value),t(0,n),t(1,r)}return a.$$.update=()=>{a.$$.dirty&3&&t(0,n=n>r?r:parseInt(n))},[n,r,v,m,s,o,b]}class ze extends be{constructor(e){super(),Ie(this,e,Se,Re,ke,{})}}export{ze as default};
